"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9402],{9613:(e,t,a)=>{a.d(t,{Zo:()=>o,kt:()=>N});var n=a(9496);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},o=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},m="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),m=s(a),u=r,N=m["".concat(d,".").concat(u)]||m[u]||k[u]||i;return a?n.createElement(N,l(l({ref:t},o),{},{components:a})):n.createElement(N,l({ref:t},o))}));function N(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var p={};for(var d in t)hasOwnProperty.call(t,d)&&(p[d]=t[d]);p.originalType=e,p[m]="string"==typeof e?e:r,l[1]=p;for(var s=2;s<i;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2379:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>k,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var n=a(2564),r=(a(9496),a(9613));const i={id:"divine_uri.DatabaseURI",title:"Class: DatabaseURI",sidebar_label:"@divine/uri.DatabaseURI",custom_edit_url:null},l=void 0,p={unversionedId:"api/classes/divine_uri.DatabaseURI",id:"api/classes/divine_uri.DatabaseURI",title:"Class: DatabaseURI",description:"@divine/uri.DatabaseURI",source:"@site/docs/api/classes/divine_uri.DatabaseURI.md",sourceDirName:"api/classes",slug:"/api/classes/divine_uri.DatabaseURI",permalink:"/WSF/docs/api/classes/divine_uri.DatabaseURI",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"divine_uri.DatabaseURI",title:"Class: DatabaseURI",sidebar_label:"@divine/uri.DatabaseURI",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"@divine/uri.DBResult",permalink:"/WSF/docs/api/classes/divine_uri.DBResult"},next:{title:"@divine/uri.Encoder",permalink:"/WSF/docs/api/classes/divine_uri.Encoder"}},d={},s=[{value:"CRUD row operations with <em>DB references</em>",id:"crud-row-operations-with-db-references",level:2},{value:"Filters",id:"filters",level:3},{value:"Examples",id:"examples",level:3},{value:"Custom SQL queries",id:"custom-sql-queries",level:2},{value:"Transactions",id:"transactions",level:2},{value:"Deadlock handling",id:"deadlock-handling",level:3},{value:"Change Data Capture",id:"change-data-capture",level:2},{value:"Shutting down",id:"shutting-down",level:2},{value:"Hierarchy",id:"hierarchy",level:2},{value:"Constructors",id:"constructors",level:2},{value:"constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Inherited from",id:"inherited-from",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"Inherited from",id:"inherited-from-1",level:4},{value:"Defined in",id:"defined-in-1",level:4},{value:"Properties",id:"properties",level:2},{value:"href",id:"href",level:3},{value:"Inherited from",id:"inherited-from-2",level:4},{value:"Defined in",id:"defined-in-2",level:4},{value:"origin",id:"origin",level:3},{value:"Inherited from",id:"inherited-from-3",level:4},{value:"Defined in",id:"defined-in-3",level:4},{value:"protocol",id:"protocol",level:3},{value:"Inherited from",id:"inherited-from-4",level:4},{value:"Defined in",id:"defined-in-4",level:4},{value:"selectors",id:"selectors",level:3},{value:"Type declaration",id:"type-declaration",level:4},{value:"Inherited from",id:"inherited-from-5",level:4},{value:"Defined in",id:"defined-in-5",level:4},{value:"FIELDS",id:"fields",level:3},{value:"Inherited from",id:"inherited-from-6",level:4},{value:"Defined in",id:"defined-in-6",level:4},{value:"FINALIZE",id:"finalize",level:3},{value:"Inherited from",id:"inherited-from-7",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"HEADERS",id:"headers",level:3},{value:"Inherited from",id:"inherited-from-8",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"NULL",id:"null",level:3},{value:"Inherited from",id:"inherited-from-9",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"STATUS",id:"status",level:3},{value:"Inherited from",id:"inherited-from-10",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"STATUS_TEXT",id:"status_text",level:3},{value:"Inherited from",id:"inherited-from-11",level:4},{value:"Defined in",id:"defined-in-11",level:4},{value:"VOID",id:"void",level:3},{value:"Inherited from",id:"inherited-from-12",level:4},{value:"Defined in",id:"defined-in-12",level:4},{value:"Methods",id:"methods",level:2},{value:"$",id:"",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns",level:4},{value:"Overrides",id:"overrides",level:4},{value:"Defined in",id:"defined-in-13",level:4},{value:"asyncIterator",id:"asynciterator",level:3},{value:"Returns",id:"returns-1",level:4},{value:"Inherited from",id:"inherited-from-13",level:4},{value:"Defined in",id:"defined-in-14",level:4},{value:"_createDBConnectionPool",id:"_createdbconnectionpool",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-15",level:4},{value:"_getAuthorization",id:"_getauthorization",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Inherited from",id:"inherited-from-14",level:4},{value:"Defined in",id:"defined-in-16",level:4},{value:"_getBestSelector",id:"_getbestselector",level:3},{value:"Type parameters",id:"type-parameters",level:4},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-4",level:4},{value:"Inherited from",id:"inherited-from-15",level:4},{value:"Defined in",id:"defined-in-17",level:4},{value:"_guessContentType",id:"_guesscontenttype",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Inherited from",id:"inherited-from-16",level:4},{value:"Defined in",id:"defined-in-18",level:4},{value:"_makeIOError",id:"_makeioerror",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Inherited from",id:"inherited-from-17",level:4},{value:"Defined in",id:"defined-in-19",level:4},{value:"addSelector",id:"addselector",level:3},{value:"Type parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Inherited from",id:"inherited-from-18",level:4},{value:"Defined in",id:"defined-in-20",level:4},{value:"append",id:"append",level:3},{value:"Type parameters",id:"type-parameters-2",level:4},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-8",level:4},{value:"Overrides",id:"overrides-1",level:4},{value:"Defined in",id:"defined-in-21",level:4},{value:"close",id:"close",level:3},{value:"Returns",id:"returns-9",level:4},{value:"Overrides",id:"overrides-2",level:4},{value:"Defined in",id:"defined-in-22",level:4},{value:"info",id:"info",level:3},{value:"Type parameters",id:"type-parameters-3",level:4},{value:"Returns",id:"returns-10",level:4},{value:"Inherited from",id:"inherited-from-19",level:4},{value:"Defined in",id:"defined-in-23",level:4},{value:"list",id:"list",level:3},{value:"Type parameters",id:"type-parameters-4",level:4},{value:"Returns",id:"returns-11",level:4},{value:"Inherited from",id:"inherited-from-20",level:4},{value:"Defined in",id:"defined-in-24",level:4},{value:"load",id:"load",level:3},{value:"Type parameters",id:"type-parameters-5",level:4},{value:"Parameters",id:"parameters-10",level:4},{value:"Returns",id:"returns-12",level:4},{value:"Overrides",id:"overrides-3",level:4},{value:"Defined in",id:"defined-in-25",level:4},{value:"modify",id:"modify",level:3},{value:"Type parameters",id:"type-parameters-6",level:4},{value:"Parameters",id:"parameters-11",level:4},{value:"Returns",id:"returns-13",level:4},{value:"Overrides",id:"overrides-4",level:4},{value:"Defined in",id:"defined-in-26",level:4},{value:"query",id:"query",level:3},{value:"Type parameters",id:"type-parameters-7",level:4},{value:"Parameters",id:"parameters-12",level:4},{value:"Returns",id:"returns-14",level:4},{value:"Overrides",id:"overrides-5",level:4},{value:"Defined in",id:"defined-in-27",level:4},{value:"Type parameters",id:"type-parameters-8",level:4},{value:"Parameters",id:"parameters-13",level:4},{value:"Returns",id:"returns-15",level:4},{value:"Overrides",id:"overrides-6",level:4},{value:"Defined in",id:"defined-in-28",level:4},{value:"Type parameters",id:"type-parameters-9",level:4},{value:"Parameters",id:"parameters-14",level:4},{value:"Returns",id:"returns-16",level:4},{value:"Overrides",id:"overrides-7",level:4},{value:"Defined in",id:"defined-in-29",level:4},{value:"Type parameters",id:"type-parameters-10",level:4},{value:"Parameters",id:"parameters-15",level:4},{value:"Returns",id:"returns-17",level:4},{value:"Overrides",id:"overrides-8",level:4},{value:"Defined in",id:"defined-in-30",level:4},{value:"Type parameters",id:"type-parameters-11",level:4},{value:"Parameters",id:"parameters-16",level:4},{value:"Returns",id:"returns-18",level:4},{value:"Overrides",id:"overrides-9",level:4},{value:"Defined in",id:"defined-in-31",level:4},{value:"remove",id:"remove",level:3},{value:"Type parameters",id:"type-parameters-12",level:4},{value:"Parameters",id:"parameters-17",level:4},{value:"Returns",id:"returns-19",level:4},{value:"Overrides",id:"overrides-10",level:4},{value:"Defined in",id:"defined-in-32",level:4},{value:"save",id:"save",level:3},{value:"Type parameters",id:"type-parameters-13",level:4},{value:"Parameters",id:"parameters-18",level:4},{value:"Returns",id:"returns-20",level:4},{value:"Overrides",id:"overrides-11",level:4},{value:"Defined in",id:"defined-in-33",level:4},{value:"watch",id:"watch",level:3},{value:"Type parameters",id:"type-parameters-14",level:4},{value:"Parameters",id:"parameters-19",level:4},{value:"Returns",id:"returns-21",level:4},{value:"Overrides",id:"overrides-12",level:4},{value:"Defined in",id:"defined-in-34",level:4},{value:"Type parameters",id:"type-parameters-15",level:4},{value:"Parameters",id:"parameters-20",level:4},{value:"Returns",id:"returns-22",level:4},{value:"Overrides",id:"overrides-13",level:4},{value:"Defined in",id:"defined-in-35",level:4},{value:"Type parameters",id:"type-parameters-16",level:4},{value:"Parameters",id:"parameters-21",level:4},{value:"Returns",id:"returns-23",level:4},{value:"Overrides",id:"overrides-14",level:4},{value:"Defined in",id:"defined-in-36",level:4},{value:"$",id:"-1",level:3},{value:"Parameters",id:"parameters-22",level:4},{value:"Returns",id:"returns-24",level:4},{value:"Inherited from",id:"inherited-from-21",level:4},{value:"Defined in",id:"defined-in-37",level:4},{value:"register",id:"register",level:3},{value:"Parameters",id:"parameters-23",level:4},{value:"Returns",id:"returns-25",level:4},{value:"Inherited from",id:"inherited-from-22",level:4},{value:"Defined in",id:"defined-in-38",level:4}],o={toc:s},m="wrapper";function k(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},o,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri"},"@divine/uri"),".DatabaseURI"),(0,r.kt)("p",null,"The database URI base class defines the API for all database-specific protocols. It provides CRUD access to database\nrows via ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#load"},"load"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#save"},"save"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#append"},"append"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#modify"},"modify")," and ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#remove"},"remove"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#query"},"query"),' for executing\ncustom queries in a databases-specific query language (read "SQL") and ',(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#watch"},"watch")," for ",(0,r.kt)("em",{parentName:"p"},"change data capture"),",\nprovided the database and driver supports it."),(0,r.kt)("p",null,"Below is a list of all known supported databases:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Database"),(0,r.kt)("th",{parentName:"tr",align:null},"Database driver class"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CockroachDB"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri_postgres_protocol.PostgresURI"},"PostgresURI"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"H2"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri_jdbc_protocol.JDBCURI"},"JDBCURI"),"\u2020")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MariaDB"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri_mysql_protocol.MySQLURI"},"MySQLURI"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MySQL"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri_mysql_protocol.MySQLURI"},"MySQLURI"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PostgreSQL"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri_postgres_protocol.PostgresURI"},"PostgresURI"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SQL Server"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri_tds_protocol.TDSURI"},"TDSURI"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SQLite"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri_sqlite_protocol.SQLiteURI"},"SQLiteURI"))))),(0,r.kt)("p",null,"\u2020 In theory, any JDBC-enabled database should have at least basic support, but our unit tests are only run against\nH2."),(0,r.kt)("h2",{id:"crud-row-operations-with-db-references"},"CRUD row operations with ",(0,r.kt)("em",{parentName:"h2"},"DB references")),(0,r.kt)("p",null,"In order to provide CRUD (",(0,r.kt)("em",{parentName:"p"},"create"),", ",(0,r.kt)("em",{parentName:"p"},"read"),", ",(0,r.kt)("em",{parentName:"p"},"update")," and ",(0,r.kt)("em",{parentName:"p"},"delete"),") operations for database rows, DatabaseURI uses a\nsmall expression language called ",(0,r.kt)("em",{parentName:"p"},"DB reference")," in the URI fragment to specify what table, rows and columns to\naccess. A DB reference looks like this:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"#")," ",(0,r.kt)("em",{parentName:"p"},"table")," { ",(0,r.kt)("inlineCode",{parentName:"p"},"[")," ",(0,r.kt)("em",{parentName:"p"},"keys")," ",(0,r.kt)("inlineCode",{parentName:"p"},"]")," } { ",(0,r.kt)("inlineCode",{parentName:"p"},"(")," ",(0,r.kt)("em",{parentName:"p"},"columns")," ",(0,r.kt)("inlineCode",{parentName:"p"},")")," } { ",(0,r.kt)("inlineCode",{parentName:"p"},";")," ",(0,r.kt)("em",{parentName:"p"},"scope")," } { ",(0,r.kt)("inlineCode",{parentName:"p"},"?")," ",(0,r.kt)("em",{parentName:"p"},"filter")," } { ",(0,r.kt)("inlineCode",{parentName:"p"},"&")," ",(0,r.kt)("em",{parentName:"p"},"name")," ",(0,r.kt)("inlineCode",{parentName:"p"},"="),"\n",(0,r.kt)("em",{parentName:"p"},"value")," ... }"),(0,r.kt)("p",null,"It always starts with a hash sign, which signals the start of the URI fragment part, followed by a reference to what\ntable to access. The ",(0,r.kt)("em",{parentName:"p"},"table")," value may actually be a forward slash-separated table path, so it's possible to specify\ncatalog and schema as well (similar to how the dot is used in SQL)."),(0,r.kt)("p",null,"The remaining parts of the expression is optional (well, depeneding on what operation you're trying to perform)."),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#save"},"save")," operation may, depending on the actual database, require the primary key in order to work. The name\nof the primary key optionally follows the table name, enclosed by square brackets. ",(0,r.kt)("em",{parentName:"p"},"keys")," may be a comma-separated\nlist of columns, if the primary key spans multiple columns."),(0,r.kt)("p",null,"In order to limit what colomns to operate on, a list of ",(0,r.kt)("em",{parentName:"p"},"columns"),", enclosed by parentheses, may then follow. The\ndefault is all columns when reading and all the columns present in the data when writing."),(0,r.kt)("p",null,"Next up: ",(0,r.kt)("em",{parentName:"p"},"scope"),". The scope can be one of ",(0,r.kt)("inlineCode",{parentName:"p"},"scalar")," (a single cell), ",(0,r.kt)("inlineCode",{parentName:"p"},"one")," (a single row), ",(0,r.kt)("inlineCode",{parentName:"p"},"unique")," (distinct rows) or\n",(0,r.kt)("inlineCode",{parentName:"p"},"all")," (multiple rows). It's specifies how data should be interpreted when reading or writing."),(0,r.kt)("p",null,"When reading, a ",(0,r.kt)("em",{parentName:"p"},"filter")," specifies what rows to return. The filter part begins with a question mark followed by a\n(possible nested) expression enclosed by parentheses. Please see ",(0,r.kt)("em",{parentName:"p"},"Filters")," below for the filter syntax."),(0,r.kt)("p",null,"Finally, one or more parameters may be specified. Currently, parameters are only defined for read operations. A\nparameter begins with an ampersand followed by the ",(0,r.kt)("em",{parentName:"p"},"name")," of the parameter, and equals sign (",(0,r.kt)("inlineCode",{parentName:"p"},"="),") and the ",(0,r.kt)("em",{parentName:"p"},"value"),".\nThe available parameters are ",(0,r.kt)("inlineCode",{parentName:"p"},"offset")," (skip rows in the result set), ",(0,r.kt)("inlineCode",{parentName:"p"},"count")," (limit the result set), ",(0,r.kt)("inlineCode",{parentName:"p"},"sort")," (to\nspecify a sort column; precede with a dash to reverse the sort order) and ",(0,r.kt)("inlineCode",{parentName:"p"},"lock")," (either ",(0,r.kt)("inlineCode",{parentName:"p"},"read")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"write"),") to lock\nthe rows returned."),(0,r.kt)("h3",{id:"filters"},"Filters"),(0,r.kt)("p",null,"Relational filters are written as ",(0,r.kt)("inlineCode",{parentName:"p"},"(")," ",(0,r.kt)("em",{parentName:"p"},"relation")," ",(0,r.kt)("inlineCode",{parentName:"p"},",")," ",(0,r.kt)("em",{parentName:"p"},"column")," ",(0,r.kt)("inlineCode",{parentName:"p"},",")," ",(0,r.kt)("em",{parentName:"p"},"value")," ",(0,r.kt)("inlineCode",{parentName:"p"},")"),", where ",(0,r.kt)("em",{parentName:"p"},"relation")," is one of ",(0,r.kt)("inlineCode",{parentName:"p"},"lt")," (less\nthan), ",(0,r.kt)("inlineCode",{parentName:"p"},"le")," (less than or equal), ",(0,r.kt)("inlineCode",{parentName:"p"},"eq")," (equal), ",(0,r.kt)("inlineCode",{parentName:"p"},"ge")," (greater than or equal) and ",(0,r.kt)("inlineCode",{parentName:"p"},"gt")," (greater than). These kinds of\nfilter expressions test a column against a fixed value."),(0,r.kt)("p",null,"There are also boolean filters. To require two or more filters to all be true, write ",(0,r.kt)("inlineCode",{parentName:"p"},"(")," ",(0,r.kt)("inlineCode",{parentName:"p"},"and")," ",(0,r.kt)("em",{parentName:"p"},"filter1")," ...\n",(0,r.kt)("em",{parentName:"p"},"filterN")," ",(0,r.kt)("inlineCode",{parentName:"p"},")"),". To require only one of several filters to be true, write ",(0,r.kt)("inlineCode",{parentName:"p"},"(")," ",(0,r.kt)("inlineCode",{parentName:"p"},"or")," ",(0,r.kt)("em",{parentName:"p"},"filter1")," ... ",(0,r.kt)("em",{parentName:"p"},"filterN")," ",(0,r.kt)("inlineCode",{parentName:"p"},")"),". It's\nalso possible to invert a filter by writing ",(0,r.kt)("inlineCode",{parentName:"p"},"(")," ",(0,r.kt)("inlineCode",{parentName:"p"},"not")," ",(0,r.kt)("em",{parentName:"p"},"filter")," ",(0,r.kt)("inlineCode",{parentName:"p"},")"),"."),(0,r.kt)("p",null,"Filters may be nested, so the following filter part of a DB reference would return all products that cost between 10\nand 20 USD as well as those being completely free:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"#products?(or(and(ge,amount,10)(le,amount,20))(eq,amount,0))\n")),(0,r.kt)("p",null,"This syntax, while perhaps a bit exotic for both JavaScript and SQL developers, was chosen so that filters do not\nhave to be URI-encoded when beeing included in the URI fragment."),(0,r.kt)("p",null,"As a general rule, filters should be kept simple with just one or two relations. Otherwise, it's probably better to\nsimply write an SQL query instead."),(0,r.kt)("h3",{id:"examples"},"Examples"),(0,r.kt)("p",null,"So why use DB references? Well, they can save you a lot of work! Assuming ",(0,r.kt)("inlineCode",{parentName:"p"},"db")," is your DatabaseURI, here are a few\nexamples."),(0,r.kt)("p",null,"Insert a row:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const user = await db.$`#users`.append<User>({ name: 'Martin', language: 'sv', country: 'se' });\n")),(0,r.kt)("p",null,"Insert multiple rows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const user = await db.$`#users`.append<User[]>([\n    { name: 'Martin', language: 'sv', country: 'se' },\n    { name: 'Vilgot', language: 'es', country: 'mx' }\n]);\n")),(0,r.kt)("p",null,"Retrieve a row:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const user = await db.$`#users;one?(eq,id,${userID})`.load<User>();\n")),(0,r.kt)("p",null,"Retrieve multiple rows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const users = await db.$`#users?(eq,country,mx)`.load<User[]>();\n")),(0,r.kt)("p",null,"Update one or more rows"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"await db.$`#users?(eq,id,${userID})`.modify({ country: 'fi' });\n")),(0,r.kt)("p",null,"Remove one or more rows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"await db.$`#users?(eq,id,${userID})`.remove();\n")),(0,r.kt)("p",null,"Some databases also supports ",(0,r.kt)("em",{parentName:"p"},"upsert")," semantics, which means the row will be created if it doesn't exist, or updated\nif it does."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const user = await db.$`#users`.save<User>({ id: 1337, name: 'Martin', language: 'sv', country: 'se' });\n")),(0,r.kt)("p",null,"Depending on the database, you may have to provide the name of the primary key for this call to succeed. If the\ndatabase supports ",(0,r.kt)("em",{parentName:"p"},"upsert")," both with and without a primary key, it's better to omit it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const user = await db.$`#users[id]`.save<User>({ id: 1337, name: 'Martin', language: 'sv', country: 'se' });\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"save"),", like ",(0,r.kt)("inlineCode",{parentName:"p"},"append"),", also accepts an array for upserting multiple rows at once."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"When writing data, ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," values will map to the SQL ",(0,r.kt)("inlineCode",{parentName:"p"},"DEFAULT")," keyword.")),(0,r.kt)("h2",{id:"custom-sql-queries"},"Custom SQL queries"),(0,r.kt)("p",null,"CRUD operations beside, the main interface to databases is the SQL query, and that's what the ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#query"},"query")," method is\nall about. It has a few different signatures, but most common is to use it as a tagged template literal:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const [ user ] = await db.query<User[]>`select * from users where id = ${userID}`;\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"query")," function always returns an array. The raw ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBResult"},"result set")," is available via the\n",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#fields"},"FIELDS")," symbol. Sessions are handled automatically and is usually not something you will have to worry about.\nHowever, since the database connections are pooled, two consecutive queries might execute on different connections.\nTo execute multiple queries in the same session, construct ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBQuery"},"DBQuery")," objects explicitly and pass them all to\n",(0,r.kt)("inlineCode",{parentName:"p"},"query")," (or use a transaction; see below):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const id = await db.query(q`insert into users (name) values ('Martin')`, q`select last_insert_id()`);\n")),(0,r.kt)("p",null,"Note that the generated primary key is always available as ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBResult#rowkey"},"rowKey"),", so this particular example is a\nbit silly."),(0,r.kt)("h2",{id:"transactions"},"Transactions"),(0,r.kt)("p",null,"To execute a code block inside a transaction, pass a callback to ",(0,r.kt)("inlineCode",{parentName:"p"},"query"),", like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const orderID = await db.query(async () => {\n  const order = await db.$`orders`.append<Order>({ user_id: userID, date: new Date() });\n  const orderID = order.order_id ?? order[FIELDS][0].rowKey; // Not all drivers support `RETURNING *`\n  await db.$`order_lines`.append(lines.map((line) => ({ ...line, order_id: orderID }));\n\n  return orderID;\n});\n")),(0,r.kt)("p",null,"If the transaction fails (i.e., the callback throws an exception), the transaction will be automatically rolled back.\nIf it returns normally, it will be committed. Transactions may be nested, in which case ",(0,r.kt)("em",{parentName:"p"},"savepoints")," will be used\ninstead. Like actual transactions, savepoints will also be rolled back if the nested callback throws."),(0,r.kt)("h3",{id:"deadlock-handling"},"Deadlock handling"),(0,r.kt)("p",null,"Sometimes, conflicting transactions will deadlock. The database drivers will automatically handle this situation for\nyou (assuming the deadlock exception propagates back to ",(0,r.kt)("inlineCode",{parentName:"p"},"query"),", of course) by restarting the transaction and\ninvoking the callback again. The callback actually receives a retry counter as its first argument, in case you need\nto detect this. The first time you callback is called, this counter will be 0. Nested callbacks will receive ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"\ninstead of a number."),(0,r.kt)("p",null,"This behaviour, as well as other transaction parameters like isolation level, may be customized by passing a\n",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBTransactionParams"},"DBTransactionParams")," object as the first argument to ",(0,r.kt)("inlineCode",{parentName:"p"},"query"),", before the callback."),(0,r.kt)("p",null,"Deadlock handling is supported by all database drivers, and there is even custom handling for CockroachDB, which\nautomatically increases the transaction priority on retries."),(0,r.kt)("h2",{id:"change-data-capture"},"Change Data Capture"),(0,r.kt)("p",null,"Some drivers, like PostgresURI, also implement the ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#watch"},"watch")," method. Use this to listen for events from\nthe database and stream the results in realtime to your application. The PostgresURI class supports ",(0,r.kt)("inlineCode",{parentName:"p"},"LISTEN"),"/",(0,r.kt)("inlineCode",{parentName:"p"},"NOTIFY"),"\nevents when using PostgreSQL and ",(0,r.kt)("a",{parentName:"p",href:"https://www.cockroachlabs.com/docs/v21.2/changefeed-for.html"},"core changefeeds"),"\nwhen using CockroachDB."),(0,r.kt)("h2",{id:"shutting-down"},"Shutting down"),(0,r.kt)("p",null,"Call ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI#close"},"close")," to terminate the connection pool. Otherwise, it may take a minute or so before all idle\nconnections time out and Node.js exits."),(0,r.kt)("h2",{id:"hierarchy"},"Hierarchy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},(0,r.kt)("inlineCode",{parentName:"a"},"URI"))),(0,r.kt)("p",{parentName:"li"},"\u21b3 ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"DatabaseURI"))))),(0,r.kt)("h2",{id:"constructors"},"Constructors"),(0,r.kt)("h3",{id:"constructor"},"constructor"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("strong",{parentName:"p"},"new DatabaseURI"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"url?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),")"),(0,r.kt)("p",null,"Constructs a new URI subclass. The URI constructor is a bit unusual, as it will always return an URI subclass and\nnever a plain URI object."),(0,r.kt)("p",null,"If the URI contains user information (credentials), it will be added as an ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.AuthSelector"},"AuthSelector")," and removed from\nthe URI."),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"url?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"URL")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"Url")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The URL to construct. If relative, it will be resolved as a ",(0,r.kt)("inlineCode",{parentName:"td"},"file:")," URL relative to the current working directory. If ",(0,r.kt)("inlineCode",{parentName:"td"},"url")," is a string ",(0,r.kt)("em",{parentName:"td"},"and")," ",(0,r.kt)("inlineCode",{parentName:"td"},"params")," is provided, the string may contain ",(0,r.kt)("inlineCode",{parentName:"td"},"{prop}")," placeholders, which will then be resolved and percent-encoded against properties in ",(0,r.kt)("inlineCode",{parentName:"td"},"params"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Params")),(0,r.kt)("td",{parentName:"tr",align:"left"},"An optional record with parameters, used in case ",(0,r.kt)("inlineCode",{parentName:"td"},"url")," is a string.")))),(0,r.kt)("h4",{id:"inherited-from"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#constructor"},"constructor")),(0,r.kt)("h4",{id:"defined-in"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L232"},"uri/src/uri.ts:232")),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("strong",{parentName:"p"},"new DatabaseURI"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"url?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"base?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"params?"),")"),(0,r.kt)("p",null,"Constructs a new URI subclass. The URI constructor is a bit unusual, as it will always return an URI subclass and\nnever a plain URI object."),(0,r.kt)("p",null,"If the URI contains user information (credentials), it will be added as an ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.AuthSelector"},"AuthSelector")," and removed from\nthe URI."),(0,r.kt)("p",null,"NOTE: If ",(0,r.kt)("inlineCode",{parentName:"p"},"base")," is an URI, all its selectors will be inherited by the newly constructed URI."),(0,r.kt)("h4",{id:"parameters-1"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"url?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"URL")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"Url")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The URL to construct. If relative, it will be resolved against ",(0,r.kt)("inlineCode",{parentName:"td"},"base"),". If ",(0,r.kt)("inlineCode",{parentName:"td"},"url")," is a string ",(0,r.kt)("em",{parentName:"td"},"and")," ",(0,r.kt)("inlineCode",{parentName:"td"},"params")," are provided, the string may contain ",(0,r.kt)("inlineCode",{parentName:"td"},"{prop}")," placeholders, which will then be resolved and percent-encoded against properties in ",(0,r.kt)("inlineCode",{parentName:"td"},"params"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"base?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"URL")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"Url")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A base URL that ",(0,r.kt)("inlineCode",{parentName:"td"},"url")," will be resolved relative to, in case ",(0,r.kt)("inlineCode",{parentName:"td"},"url")," is relative. If ",(0,r.kt)("inlineCode",{parentName:"td"},"base")," itself is relative, ",(0,r.kt)("inlineCode",{parentName:"td"},"base")," will first be resolved as a ",(0,r.kt)("inlineCode",{parentName:"td"},"file:")," URL relative to the current working directory. Just like ",(0,r.kt)("inlineCode",{parentName:"td"},"url"),", if ",(0,r.kt)("inlineCode",{parentName:"td"},"base")," is a string and ",(0,r.kt)("inlineCode",{parentName:"td"},"params")," is provided, ",(0,r.kt)("inlineCode",{parentName:"td"},"{prop}")," placeholders may be present in the string.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Params")),(0,r.kt)("td",{parentName:"tr",align:"left"},"An optional record with parameters, used in case ",(0,r.kt)("inlineCode",{parentName:"td"},"url")," and/or ",(0,r.kt)("inlineCode",{parentName:"td"},"base")," is a string.")))),(0,r.kt)("h4",{id:"inherited-from-1"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#constructor"},"constructor")),(0,r.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L251"},"uri/src/uri.ts:251")),(0,r.kt)("h2",{id:"properties"},"Properties"),(0,r.kt)("h3",{id:"href"},"href"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"href"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"This URI's string representation. Unlike in URL, this property may not be changed/updated."),(0,r.kt)("h4",{id:"inherited-from-2"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#href"},"href")),(0,r.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L211"},"uri/src/uri.ts:211")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"origin"},"origin"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"origin"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"This URI's origin. Unlike in URL, this property may not be changed/updated."),(0,r.kt)("h4",{id:"inherited-from-3"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#origin"},"origin")),(0,r.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L214"},"uri/src/uri.ts:214")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"protocol"},"protocol"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"protocol"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"string")),(0,r.kt)("p",null,"This URI's protocol. Unlike in URL, this property may not be changed/updated."),(0,r.kt)("h4",{id:"inherited-from-4"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#protocol"},"protocol")),(0,r.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L217"},"uri/src/uri.ts:217")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"selectors"},"selectors"),(0,r.kt)("p",null,"\u2022 ",(0,r.kt)("strong",{parentName:"p"},"selectors"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"Object")),(0,r.kt)("p",null,"All selectors that may apply to this URI. Use ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.CacheURI#addselector"},"addSelector")," to modify this property."),(0,r.kt)("h4",{id:"type-declaration"},"Type declaration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"auth?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.AuthSelector"},(0,r.kt)("inlineCode",{parentName:"a"},"AuthSelector")),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Authentication/Credentials selectors. See ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.AuthSelector"},"AuthSelector"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"headers?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.HeadersSelector"},(0,r.kt)("inlineCode",{parentName:"a"},"HeadersSelector")),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Headers selectors. See ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.HeadersSelector"},"HeadersSelector"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.ParamsSelector"},(0,r.kt)("inlineCode",{parentName:"a"},"ParamsSelector")),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Parameter selectos. See ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.ParamsSelector"},"ParamsSelector"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"session?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"SessionSelector"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Session selectors. Only used internally.")))),(0,r.kt)("h4",{id:"inherited-from-5"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#selectors"},"selectors")),(0,r.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L196"},"uri/src/uri.ts:196")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"fields"},"FIELDS"),(0,r.kt)("p",null,"\u25aa ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"FIELDS"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"symbol")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"FIELDS")),(0,r.kt)("p",null,"An alias for ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#fields"},"FIELDS"),"."),(0,r.kt)("h4",{id:"inherited-from-6"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#fields"},"FIELDS")),(0,r.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L148"},"uri/src/uri.ts:148")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"finalize"},"FINALIZE"),(0,r.kt)("p",null,"\u25aa ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"FINALIZE"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"symbol")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"FINALIZE")),(0,r.kt)("p",null,"An alias for ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#fields"},"FIELDS"),"."),(0,r.kt)("h4",{id:"inherited-from-7"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#finalize"},"FINALIZE")),(0,r.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L151"},"uri/src/uri.ts:151")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"headers"},"HEADERS"),(0,r.kt)("p",null,"\u25aa ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"HEADERS"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"symbol")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"HEADERS")),(0,r.kt)("p",null,"An alias for ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#headers"},"HEADERS"),"."),(0,r.kt)("h4",{id:"inherited-from-8"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#headers"},"HEADERS")),(0,r.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L154"},"uri/src/uri.ts:154")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"null"},"NULL"),(0,r.kt)("p",null,"\u25aa ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"NULL"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"symbol")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"NULL")),(0,r.kt)("p",null,"An alias for ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#null"},"NULL"),"."),(0,r.kt)("h4",{id:"inherited-from-9"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#null"},"NULL")),(0,r.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L145"},"uri/src/uri.ts:145")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"status"},"STATUS"),(0,r.kt)("p",null,"\u25aa ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"STATUS"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"symbol")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"STATUS")),(0,r.kt)("p",null,"An alias for ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#status"},"STATUS"),"."),(0,r.kt)("h4",{id:"inherited-from-10"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#status"},"STATUS")),(0,r.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L157"},"uri/src/uri.ts:157")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"status_text"},"STATUS","_","TEXT"),(0,r.kt)("p",null,"\u25aa ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"STATUS","_","TEXT"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"symbol")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"STATUS_TEXT")),(0,r.kt)("p",null,"An alias for ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#status_text"},"STATUS_TEXT"),"."),(0,r.kt)("h4",{id:"inherited-from-11"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#status_text"},"STATUS_TEXT")),(0,r.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L160"},"uri/src/uri.ts:160")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"void"},"VOID"),(0,r.kt)("p",null,"\u25aa ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,r.kt)("strong",{parentName:"p"},"VOID"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"symbol")," = ",(0,r.kt)("inlineCode",{parentName:"p"},"VOID")),(0,r.kt)("p",null,"An alias for ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#void"},"VOID"),"."),(0,r.kt)("h4",{id:"inherited-from-12"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#void"},"VOID")),(0,r.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L142"},"uri/src/uri.ts:142")),(0,r.kt)("h2",{id:"methods"},"Methods"),(0,r.kt)("h3",{id:""},"$"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"$"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"strings"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"...values"),"): ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI"},(0,r.kt)("inlineCode",{parentName:"a"},"DatabaseURI"))),(0,r.kt)("p",null,"Constructs a new DatabaseURI, relative to this URI, from a template string, percent-encoding all arguments."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const base = new URI('sqlite:/tmp/demo.db');\nconst info = await base.$`#item_info?(eq,id,${item})`.load();\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  If the resulting URI is not actually a DatabaseURI."),(0,r.kt)("h4",{id:"parameters-2"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"strings")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"TemplateStringsArray")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The template string array.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"...values")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unknown"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The values to be encoded.")))),(0,r.kt)("h4",{id:"returns"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI"},(0,r.kt)("inlineCode",{parentName:"a"},"DatabaseURI"))),(0,r.kt)("p",null,"A new DatabaseURI subclass instance."),(0,r.kt)("h4",{id:"overrides"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#$"},"$")),(0,r.kt)("h4",{id:"defined-in-13"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L958"},"uri/src/protocols/database.ts:958")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"asynciterator"},"[asyncIterator]"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"[asyncIterator]"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterator"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Buffer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"any"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),">"," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.Metadata"},(0,r.kt)("inlineCode",{parentName:"a"},"Metadata"))),(0,r.kt)("p",null,"All URIs are ",(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterable<Buffer>"),". This method implements that interface by calling\n",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#load"},"load"),"(",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_headers.ContentType#stream"},"stream"),")."),(0,r.kt)("h4",{id:"returns-1"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterator"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"Buffer"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"any"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),">"," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.Metadata"},(0,r.kt)("inlineCode",{parentName:"a"},"Metadata"))),(0,r.kt)("p",null,"An ",(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterator<Buffer>")," stream."),(0,r.kt)("h4",{id:"inherited-from-13"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#%5Basynciterator%5D"},"[asyncIterator]")),(0,r.kt)("h4",{id:"defined-in-14"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L535"},"uri/src/uri.ts:535")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"_createdbconnectionpool"},"_","createDBConnectionPool"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Protected")," ",(0,r.kt)("inlineCode",{parentName:"p"},"Abstract")," ",(0,r.kt)("strong",{parentName:"p"},"_createDBConnectionPool"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"params"),"): ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBDriver.DBConnectionPool"},(0,r.kt)("inlineCode",{parentName:"a"},"DBConnectionPool"))," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBDriver.DBConnectionPool"},(0,r.kt)("inlineCode",{parentName:"a"},"DBConnectionPool")),">"),(0,r.kt)("h4",{id:"parameters-3"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.DBParamsSelector"},(0,r.kt)("inlineCode",{parentName:"a"},"DBParamsSelector")))))),(0,r.kt)("h4",{id:"returns-2"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBDriver.DBConnectionPool"},(0,r.kt)("inlineCode",{parentName:"a"},"DBConnectionPool"))," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBDriver.DBConnectionPool"},(0,r.kt)("inlineCode",{parentName:"a"},"DBConnectionPool")),">"),(0,r.kt)("h4",{id:"defined-in-15"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L941"},"uri/src/protocols/database.ts:941")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"_getauthorization"},"_","getAuthorization"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Protected")," ",(0,r.kt)("strong",{parentName:"p"},"_getAuthorization"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"req"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"payload?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"challenges?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"Authorization"),">"),(0,r.kt)("h4",{id:"parameters-4"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"req")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.AuthSchemeRequest"},(0,r.kt)("inlineCode",{parentName:"a"},"AuthSchemeRequest")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"payload?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Buffer")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"AsyncIterable"),"<",(0,r.kt)("inlineCode",{parentName:"td"},"Buffer"),">")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"challenges?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"WWWAuthenticate"),"[]")))),(0,r.kt)("h4",{id:"returns-3"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"Authorization"),">"),(0,r.kt)("h4",{id:"inherited-from-14"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#_getauthorization"},"_getAuthorization")),(0,r.kt)("h4",{id:"defined-in-16"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L539"},"uri/src/uri.ts:539")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"_getbestselector"},"_","getBestSelector"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Protected")," ",(0,r.kt)("strong",{parentName:"p"},"_getBestSelector"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"sels"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"challenge?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"T")),(0,r.kt)("h4",{id:"type-parameters"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"SelectorBase"))))),(0,r.kt)("h4",{id:"parameters-5"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"sels")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"undefined")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"T"),"[]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"challenge?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"WWWAuthenticate"))))),(0,r.kt)("h4",{id:"returns-4"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"null")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"T")),(0,r.kt)("h4",{id:"inherited-from-15"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#_getbestselector"},"_getBestSelector")),(0,r.kt)("h4",{id:"defined-in-17"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L581"},"uri/src/uri.ts:581")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"_guesscontenttype"},"_","guessContentType"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Protected")," ",(0,r.kt)("strong",{parentName:"p"},"_guessContentType"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"knownContentType?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"ContentType")),(0,r.kt)("h4",{id:"parameters-6"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"knownContentType?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType"))))),(0,r.kt)("h4",{id:"returns-5"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"p"},"ContentType")),(0,r.kt)("h4",{id:"inherited-from-16"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#_guesscontenttype"},"_guessContentType")),(0,r.kt)("h4",{id:"defined-in-18"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L573"},"uri/src/uri.ts:573")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"_makeioerror"},"_","makeIOError"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Protected")," ",(0,r.kt)("strong",{parentName:"p"},"_makeIOError"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"err"),"): ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.IOError"},(0,r.kt)("inlineCode",{parentName:"a"},"IOError"))),(0,r.kt)("h4",{id:"parameters-7"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"err")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unknown"))))),(0,r.kt)("h4",{id:"returns-6"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.IOError"},(0,r.kt)("inlineCode",{parentName:"a"},"IOError"))),(0,r.kt)("h4",{id:"inherited-from-17"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#_makeioerror"},"_makeIOError")),(0,r.kt)("h4",{id:"defined-in-19"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L577"},"uri/src/uri.ts:577")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"addselector"},"addSelector"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"addSelector"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"selector"),"): ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI"},(0,r.kt)("inlineCode",{parentName:"a"},"DatabaseURI"))),(0,r.kt)("p",null,"Adds a new selector to this URI."),(0,r.kt)("p",null,"Selectors is a way to specify in what situations some kind of parameters or configuration is valid. When some\nkind of configuration is required (such as authentication of connection parameters), all registered selectors are\nevaluated and based on the matching score, the best selector is chosen. The more specific a selector is, the\nhigher the score it will receive if it matches."),(0,r.kt)("p",null,"Based on this, it's possible to limit the scope of credentials or to configure certain HTTP headers to be sent to\na specific set of servers."),(0,r.kt)("p",null,"It's also perfectly valid ",(0,r.kt)("em",{parentName:"p"},"not")," to specify a selector for some kind of parameters. As long as there is only one\nkind of this configuration, it will apply unconditionally."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  If the selector to add is invalid."),(0,r.kt)("h4",{id:"type-parameters-1"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.AuthSelector"},(0,r.kt)("inlineCode",{parentName:"a"},"AuthSelector"))," ","|"," ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.HeadersSelector"},(0,r.kt)("inlineCode",{parentName:"a"},"HeadersSelector"))," ","|"," ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.ParamsSelector"},(0,r.kt)("inlineCode",{parentName:"a"},"ParamsSelector"))," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"SessionSelector"))))),(0,r.kt)("h4",{id:"parameters-8"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selector")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The selector to add.")))),(0,r.kt)("h4",{id:"returns-7"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DatabaseURI"},(0,r.kt)("inlineCode",{parentName:"a"},"DatabaseURI"))),(0,r.kt)("p",null,"This URI."),(0,r.kt)("h4",{id:"inherited-from-18"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#addselector"},"addSelector")),(0,r.kt)("h4",{id:"defined-in-20"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L311"},"uri/src/uri.ts:311")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"append"},"append"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"append"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"D"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"data"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"_sendCT?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"_recvCT?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Uses the ",(0,r.kt)("em",{parentName:"p"},"DB reference")," in this URI's fragment to add one or multiple rows in a table using ",(0,r.kt)("inlineCode",{parentName:"p"},"INSERT"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors or if this URI does not have a valid ",(0,r.kt)("em",{parentName:"p"},"DB reference")," fragment."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError  On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-2"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type returned.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"D")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unknown")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The type of data to store.")))),(0,r.kt)("h4",{id:"parameters-9"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"D")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The data to add to the table.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_sendCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_recvCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")))),(0,r.kt)("h4",{id:"returns-8"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"A row or array of rows  (if the database supports it), with DBMetadata."),(0,r.kt)("h4",{id:"overrides-1"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#append"},"append")),(0,r.kt)("h4",{id:"defined-in-21"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1034"},"uri/src/protocols/database.ts:1034")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"close"},"close"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"close"),"(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("p",null,"Shuts down the database connection pool."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors."),(0,r.kt)("h4",{id:"returns-9"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,r.kt)("h4",{id:"overrides-2"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#close"},"close")),(0,r.kt)("h4",{id:"defined-in-22"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1294"},"uri/src/protocols/database.ts:1294")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"info"},"info"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"info"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.Metadata"},(0,r.kt)("inlineCode",{parentName:"a"},"Metadata")),">"),(0,r.kt)("p",null,"This method will return information about the resource this URI references, if the subclass supports it."),(0,r.kt)("p",null,"The actual operation depends on what kind of URI this is. See ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.FileURI#info"},"info")," or ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.HTTPURI#info"},"info")," for\ntwo common examples."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors or if the subclass does not support this method."),(0,r.kt)("h4",{id:"type-parameters-3"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.DirectoryEntry"},(0,r.kt)("inlineCode",{parentName:"a"},"DirectoryEntry"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type of information record returned. Must extend ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.DirectoryEntry"},"DirectoryEntry"),".")))),(0,r.kt)("h4",{id:"returns-10"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.Metadata"},(0,r.kt)("inlineCode",{parentName:"a"},"Metadata")),">"),(0,r.kt)("p",null,"An information record describing the resources."),(0,r.kt)("h4",{id:"inherited-from-19"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#info"},"info")),(0,r.kt)("h4",{id:"defined-in-23"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L351"},"uri/src/uri.ts:351")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"list"},"list"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"list"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"[] & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.Metadata"},(0,r.kt)("inlineCode",{parentName:"a"},"Metadata")),">"),(0,r.kt)("p",null,"This method will return information about this URI's children/subresources, if the subclass supports it."),(0,r.kt)("p",null,"The actual operation depends on what kind of URI this is. See ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.FileURI#info"},"info")," for a common example."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors or if the subclass does not support this method."),(0,r.kt)("h4",{id:"type-parameters-4"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.DirectoryEntry"},(0,r.kt)("inlineCode",{parentName:"a"},"DirectoryEntry"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type of information record returned. Must extend ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.DirectoryEntry"},"DirectoryEntry"),".")))),(0,r.kt)("h4",{id:"returns-11"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),"[] & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.Metadata"},(0,r.kt)("inlineCode",{parentName:"a"},"Metadata")),">"),(0,r.kt)("p",null,"An array of information record describing the subresources."),(0,r.kt)("h4",{id:"inherited-from-20"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#list"},"list")),(0,r.kt)("h4",{id:"defined-in-24"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L364"},"uri/src/uri.ts:364")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"load"},"load"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"load"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"_recvCT?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Uses the ",(0,r.kt)("em",{parentName:"p"},"DB reference")," in this URI's fragment to retrieve one or multiple rows or a single cell from a table\nwith ",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors or if this URI does not have a valid ",(0,r.kt)("em",{parentName:"p"},"DB reference")," fragment."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError  On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-5"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type returned.")))),(0,r.kt)("h4",{id:"parameters-10"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_recvCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")))),(0,r.kt)("h4",{id:"returns-12"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"A cell, row or array of rows, with DBMetadata."),(0,r.kt)("h4",{id:"overrides-3"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#load"},"load")),(0,r.kt)("h4",{id:"defined-in-25"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L979"},"uri/src/protocols/database.ts:979")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"modify"},"modify"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"modify"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"D"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"data"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"_sendCT?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"_recvCT?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Uses the ",(0,r.kt)("em",{parentName:"p"},"DB reference")," in this URI's fragment to modify one or multiple rows in a table using ",(0,r.kt)("inlineCode",{parentName:"p"},"UPDATE"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors or if this URI does not have a valid ",(0,r.kt)("em",{parentName:"p"},"DB reference")," fragment."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError  On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-6"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Object.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"D")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unknown")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The type of the update data.")))),(0,r.kt)("h4",{id:"parameters-11"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"D")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The data to update in the table.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_sendCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_recvCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")))),(0,r.kt)("h4",{id:"returns-13"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Object(",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#void"},"VOID"),"), with DBMetadata."),(0,r.kt)("h4",{id:"overrides-4"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#modify"},"modify")),(0,r.kt)("h4",{id:"defined-in-26"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1052"},"uri/src/protocols/database.ts:1052")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"query"},"query"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"query"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"...queries"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Executes one or more queries in the same session."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  If the arguments are invalid."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-7"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")," = ",(0,r.kt)("inlineCode",{parentName:"td"},"object"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type returned. Always an array.")))),(0,r.kt)("h4",{id:"parameters-12"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"...queries")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri.DBQuery"},(0,r.kt)("inlineCode",{parentName:"a"},"DBQuery")),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The queries to execute.")))),(0,r.kt)("h4",{id:"returns-14"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"An array of rows from the ",(0,r.kt)("em",{parentName:"p"},"last")," query. All result sets are available as a ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBResult"},"DBResult"),"\narray via ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#fields"},"FIELDS")," (from the DBMetadata)."),(0,r.kt)("h4",{id:"overrides-5"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#query"},"query")),(0,r.kt)("h4",{id:"defined-in-27"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1084"},"uri/src/protocols/database.ts:1084")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"query"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"query"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"...params"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Executes a query in the form of a template literal."),(0,r.kt)("p",null,"All values/parameters will either be quoted and encoded or sent separately to the database server for processing,\ndepending on the actual database driver. Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const users = dbURI.query<User>[]>`select * from users where first_name = ${firstName}`;\n")),(0,r.kt)("p",null,"See also ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#q"},"q"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#quote"},"quote"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#raw"},"raw"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#join"},"join"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#list"},"list"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#values"},"values")," and\n",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#assign"},"assign")," for handy utility functions."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  If one of the parameters is ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," or if the arguments are invalid."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-8"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")," = ",(0,r.kt)("inlineCode",{parentName:"td"},"object"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type returned. Always an array.")))),(0,r.kt)("h4",{id:"parameters-13"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"query")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"TemplateStringsArray")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The query as a template string array.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"...params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"BasicTypes"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The query parameters. Values may be ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri.DBQuery"},"DBQuery")," instances or of any type supported by the database.")))),(0,r.kt)("h4",{id:"returns-15"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"An array of rows. The raw set is available as a ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBResult"},"DBResult")," array \u2014 of length 1 \u2014 via\n",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#fields"},"FIELDS")," (from the DBMetadata)."),(0,r.kt)("h4",{id:"overrides-6"},"Overrides"),(0,r.kt)("p",null,"URI.query"),(0,r.kt)("h4",{id:"defined-in-28"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1108"},"uri/src/protocols/database.ts:1108")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"query"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"query"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"params"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Executes a query in the form of a query string. The string may contain ",(0,r.kt)("inlineCode",{parentName:"p"},"{prop}")," placeholders, which will then be\nresolved against properties in ",(0,r.kt)("inlineCode",{parentName:"p"},"params"),"."),(0,r.kt)("p",null,"All values/parameters will either be quoted and encoded or sent separately to the database server for processing,\ndepending on the actual database driver. Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const users = dbURI.query<User>[]>('select * from users where first_name = {name}', { name: firstName });\n")),(0,r.kt)("p",null,"See also ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#q"},"q"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#quote"},"quote"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#raw"},"raw"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#join"},"join"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#list"},"list"),", ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#values"},"values")," and\n",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/namespaces/divine_uri.q#assign"},"assign")," for handy utility functions."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  If one of the parameters is ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," or if the arguments are invalid."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-9"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")," = ",(0,r.kt)("inlineCode",{parentName:"td"},"object"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type returned. Always an array.")))),(0,r.kt)("h4",{id:"parameters-14"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"query")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The query, with ",(0,r.kt)("inlineCode",{parentName:"td"},"{prop}")," placeholders for parameters.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Params")),(0,r.kt)("td",{parentName:"tr",align:"left"},"An record with parameters, used to look up placeholders from the query. Parameters may be ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri.DBQuery"},"DBQuery")," instances themselves, or of any type supported by the database.")))),(0,r.kt)("h4",{id:"returns-16"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"An array of rows. The raw set is available as a ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.DBResult"},"DBResult")," array \u2014 of length 1 \u2014 via\n",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#fields"},"FIELDS")," (from the DBMetadata)."),(0,r.kt)("h4",{id:"overrides-7"},"Overrides"),(0,r.kt)("p",null,"URI.query"),(0,r.kt)("h4",{id:"defined-in-29"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1133"},"uri/src/protocols/database.ts:1133")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"query"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"params"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"cb"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">"),(0,r.kt)("p",null,"Begins a transaction and evaluates the provided callback."),(0,r.kt)("p",null,"If the callback returns successfully, the transaction is committed and this method returns the callback's return\nvalue; if the callback throws, the transaction is rolled back and the exception is propagated."),(0,r.kt)("p",null,"Transaction deadlocks are handled automatically by default. When the driver detects that a transaction was\naborted because of a deadlock, it waits a little based on the ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBTransactionParams#backoff"},"backoff")," function, and\nthen invokes the callback again (the ",(0,r.kt)("inlineCode",{parentName:"p"},"retryCount")," argument will be 1 on the first retry and so on), up to a\nmaximum of ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBTransactionParams#retries"},"retries")," times. Only then will the deadlock exception be propagated. To\nthis behaviour, set ",(0,r.kt)("inlineCode",{parentName:"p"},"retry")," to 0."),(0,r.kt)("p",null,"If this method is called recursively, ",(0,r.kt)("em",{parentName:"p"},"savepoints")," will be created (and rolled back) instead of transactions, and\n",(0,r.kt)("inlineCode",{parentName:"p"},"params")," will be ",(0,r.kt)("em",{parentName:"p"},"silently ignored"),". The ",(0,r.kt)("inlineCode",{parentName:"p"},"retryCount")," argument is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," in this case."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  if the arguments are invalid."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"unknown    Any exception thrown by ",(0,r.kt)("inlineCode",{parentName:"p"},"cb")," is propagated."),(0,r.kt)("h4",{id:"type-parameters-10"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The return type of the callback.")))),(0,r.kt)("h4",{id:"parameters-15"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_uri.DBTransactionParams"},(0,r.kt)("inlineCode",{parentName:"a"},"DBTransactionParams"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Transaction options, specifying the number of retries on deadlocks, the backoff strategey or transaction isolation level.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"cb")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/namespaces/divine_uri.DBDriver#dbcallback"},(0,r.kt)("inlineCode",{parentName:"a"},"DBCallback")),"<",(0,r.kt)("inlineCode",{parentName:"td"},"T"),">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The function to evaluate inside the transaction/savepoint.")))),(0,r.kt)("h4",{id:"returns-17"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">"),(0,r.kt)("p",null,"Whatever ",(0,r.kt)("inlineCode",{parentName:"p"},"cb")," returns."),(0,r.kt)("h4",{id:"overrides-8"},"Overrides"),(0,r.kt)("p",null,"URI.query"),(0,r.kt)("h4",{id:"defined-in-30"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1159"},"uri/src/protocols/database.ts:1159")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"query"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"cb"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">"),(0,r.kt)("p",null,"Begins a transaction and evaluates the provided callback."),(0,r.kt)("p",null,"If the callback returns successfully, the transaction is committed and this method returns the callback's return\nvalue; if the callback throws, the transaction is rolled back and the exception is propagated."),(0,r.kt)("p",null,"Transaction deadlocks are handled automatically. When the driver detects that a transaction was aborted because\nof a deadlock, it waits a few hundred milliseconds, and then invokes the callback again (the ",(0,r.kt)("inlineCode",{parentName:"p"},"retryCount"),"\nargument will be 1 on the first retry and so on), up to a maximum of 8 times. Only then will the deadlock\nexception be propagated. The wait time is approximately doubled on each retry, up to around 12 seconds."),(0,r.kt)("p",null,"If this method is called recursively, ",(0,r.kt)("em",{parentName:"p"},"savepoints")," will be created (and rolled back) instead of transactions. The\n",(0,r.kt)("inlineCode",{parentName:"p"},"retryCount")," argument is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," in this case."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  if the arguments are invalid."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"unknown    Any exception thrown by ",(0,r.kt)("inlineCode",{parentName:"p"},"cb")," is propagated."),(0,r.kt)("h4",{id:"type-parameters-11"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The return type of the callback.")))),(0,r.kt)("h4",{id:"parameters-16"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"cb")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/namespaces/divine_uri.DBDriver#dbcallback"},(0,r.kt)("inlineCode",{parentName:"a"},"DBCallback")),"<",(0,r.kt)("inlineCode",{parentName:"td"},"T"),">"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The function to evaluate inside the transaction/savepoint.")))),(0,r.kt)("h4",{id:"returns-18"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">"),(0,r.kt)("p",null,"Whatever ",(0,r.kt)("inlineCode",{parentName:"p"},"cb")," returns."),(0,r.kt)("h4",{id:"overrides-9"},"Overrides"),(0,r.kt)("p",null,"URI.query"),(0,r.kt)("h4",{id:"defined-in-31"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1182"},"uri/src/protocols/database.ts:1182")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"remove"},"remove"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"remove"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"_recvCT?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Uses the ",(0,r.kt)("em",{parentName:"p"},"DB reference")," in this URI's fragment to remove one or multiple rows from a table using ",(0,r.kt)("inlineCode",{parentName:"p"},"DELETE"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors or if this URI does not have a valid ",(0,r.kt)("em",{parentName:"p"},"DB reference")," fragment."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError  On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-12"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Object.")))),(0,r.kt)("h4",{id:"parameters-17"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_recvCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")))),(0,r.kt)("h4",{id:"returns-19"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Object(",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_uri#void"},"VOID"),"), with DBMetadata."),(0,r.kt)("h4",{id:"overrides-10"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#remove"},"remove")),(0,r.kt)("h4",{id:"defined-in-32"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1067"},"uri/src/protocols/database.ts:1067")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"save"},"save"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"save"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"D"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"data"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"_sendCT?"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"_recvCT?"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Uses the ",(0,r.kt)("em",{parentName:"p"},"DB reference")," in this URI's fragment to store one or multiple rows in a table using ",(0,r.kt)("em",{parentName:"p"},"upsert")," semantics\n(using ",(0,r.kt)("inlineCode",{parentName:"p"},"INSERT ... ON CONFLICT UPDATE ...")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"UPSERT"),", for instance, but this depends on the database)."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError  On I/O errors or if this URI does not have a valid ",(0,r.kt)("em",{parentName:"p"},"DB reference")," fragment."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError  On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-13"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The actual type returned.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"D")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unknown")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The type of data to store.")))),(0,r.kt)("h4",{id:"parameters-18"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"D")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The data to store in a row (or an array of rows to store).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_sendCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_recvCT?")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"ContentType")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Must not be used.")))),(0,r.kt)("h4",{id:"returns-20"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"A row or array of rows (if the database supports it), with DBMetadata."),(0,r.kt)("h4",{id:"overrides-11"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#save"},"save")),(0,r.kt)("h4",{id:"defined-in-33"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1016"},"uri/src/protocols/database.ts:1016")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"watch"},"watch"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"watch"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"query"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterable"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Opens a ",(0,r.kt)("em",{parentName:"p"},"change data capture")," channel to the database and returns a stream of change events."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"for await (const ev of dbURI.watch(q`listen foo`)) {\n    console.log('New PostgreSQL notification', ev);\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-14"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The type of events that will be emitted.")))),(0,r.kt)("h4",{id:"parameters-19"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"query")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri.DBQuery"},(0,r.kt)("inlineCode",{parentName:"a"},"DBQuery"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The query that opens the change event stream.")))),(0,r.kt)("h4",{id:"returns-21"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterable"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"A stream of change events."),(0,r.kt)("h4",{id:"overrides-12"},"Overrides"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#watch"},"watch")),(0,r.kt)("h4",{id:"defined-in-34"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1223"},"uri/src/protocols/database.ts:1223")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"watch"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"query"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"...params"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterable"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Opens a ",(0,r.kt)("em",{parentName:"p"},"change data capture")," channel to the database and returns a stream of change events."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"for await (const ev of dbURI.watch`experimental changefeed FOR orders`) {\n    console.log('New order from CockroachDB', ev);\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  If one of the parameters is ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," or if the arguments are invalid."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-15"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The type of events that will be emitted.")))),(0,r.kt)("h4",{id:"parameters-20"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"query")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"TemplateStringsArray")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The query that opens the change event stream.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"...params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unknown"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The query parameters. Values may be ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri.DBQuery"},"DBQuery")," instances or of any type supported by the database.")))),(0,r.kt)("h4",{id:"returns-22"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterable"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"A stream of change events."),(0,r.kt)("h4",{id:"overrides-13"},"Overrides"),(0,r.kt)("p",null,"URI.watch"),(0,r.kt)("h4",{id:"defined-in-35"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1242"},"uri/src/protocols/database.ts:1242")),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("strong",{parentName:"p"},"watch"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T"),">","(",(0,r.kt)("inlineCode",{parentName:"p"},"query"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"params"),"): ",(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterable"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"Opens a ",(0,r.kt)("em",{parentName:"p"},"change data capture")," channel to the database and returns a stream of change events."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"for await (const ev of dbURI.watch('experimental changefeed FOR orders', {})) {\n    console.log('New order from CockroachDB', ev);\n}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"TypeError  If one of the parameters is ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined")," or if the arguments are invalid."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"IOError    On I/O errors."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Throws"))),(0,r.kt)("p",null,"DBError    On database/query errors."),(0,r.kt)("h4",{id:"type-parameters-16"},"Type parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"T")),(0,r.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,r.kt)("inlineCode",{parentName:"td"},"object")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The type of events that will be emitted.")))),(0,r.kt)("h4",{id:"parameters-21"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"query")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The query that opens the change event stream, with ",(0,r.kt)("inlineCode",{parentName:"td"},"{prop}")," placeholders for parameters.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"params")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Params")),(0,r.kt)("td",{parentName:"tr",align:"left"},"An record with parameters, used to look up placeholders from the query. Parameters may be ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri.DBQuery"},"DBQuery")," instances themselves, or of any type supported by the database.")))),(0,r.kt)("h4",{id:"returns-23"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"AsyncIterable"),"<",(0,r.kt)("inlineCode",{parentName:"p"},"T")," & ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_uri.DBMetadata"},(0,r.kt)("inlineCode",{parentName:"a"},"DBMetadata")),">"),(0,r.kt)("p",null,"A stream of change events."),(0,r.kt)("h4",{id:"overrides-14"},"Overrides"),(0,r.kt)("p",null,"URI.watch"),(0,r.kt)("h4",{id:"defined-in-36"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/protocols/database.ts#L1261"},"uri/src/protocols/database.ts:1261")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"-1"},"$"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("strong",{parentName:"p"},"$"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"strings"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"...values"),"): ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},(0,r.kt)("inlineCode",{parentName:"a"},"URI"))),(0,r.kt)("p",null,"Creates a new URI from a template string, percent-encoding all arguments."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const href = URI.$`http://${host}/blobs/${blob}?as=${ct}\n")),(0,r.kt)("h4",{id:"parameters-22"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"strings")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"TemplateStringsArray")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The template string array.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"...values")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"unknown"),"[]"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The values to be encoded.")))),(0,r.kt)("h4",{id:"returns-24"},"Returns"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},(0,r.kt)("inlineCode",{parentName:"a"},"URI"))),(0,r.kt)("p",null,"A new URI subclass instance."),(0,r.kt)("h4",{id:"inherited-from-21"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#$-1"},"$")),(0,r.kt)("h4",{id:"defined-in-37"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L187"},"uri/src/uri.ts:187")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"register"},"register"),(0,r.kt)("p",null,"\u25b8 ",(0,r.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,r.kt)("strong",{parentName:"p"},"register"),"(",(0,r.kt)("inlineCode",{parentName:"p"},"protocol"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"uri"),"): typeof ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},(0,r.kt)("inlineCode",{parentName:"a"},"URI"))),(0,r.kt)("p",null,"Registers a new URI protocol. All subclasses must register their URL protocol support with this method."),(0,r.kt)("h4",{id:"parameters-23"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"protocol")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The URL protocol to register. Must include the trailing colon.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"uri")),(0,r.kt)("td",{parentName:"tr",align:"left"},"typeof ",(0,r.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_uri.URI"},(0,r.kt)("inlineCode",{parentName:"a"},"URI"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The URI subclass.")))),(0,r.kt)("h4",{id:"returns-25"},"Returns"),(0,r.kt)("p",null,"typeof ",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},(0,r.kt)("inlineCode",{parentName:"a"},"URI"))),(0,r.kt)("p",null,"The URI baseclass (for chaining)."),(0,r.kt)("h4",{id:"inherited-from-22"},"Inherited from"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI"},"URI"),".",(0,r.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_uri.URI#register"},"register")),(0,r.kt)("h4",{id:"defined-in-38"},"Defined in"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/uri/src/uri.ts#L169"},"uri/src/uri.ts:169")))}k.isMDXComponent=!0}}]);