"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6525],{9613:(e,t,r)=>{r.d(t,{Zo:()=>o,kt:()=>v});var a=r(9496);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),d=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},o=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,o=s(e,["components","mdxType","originalType","parentName"]),c=d(r),k=n,v=c["".concat(p,".").concat(k)]||c[k]||m[k]||i;return r?a.createElement(v,l(l({ref:t},o),{},{components:r})):a.createElement(v,l({ref:t},o))}));function v(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=k;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:n,l[1]=s;for(var d=2;d<i;d++)l[d]=r[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}k.displayName="MDXCreateElement"},6110:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var a=r(2564),n=(r(9496),r(9613));const i={id:"divine_web_service.WebService",title:"Class: WebService<Context>",sidebar_label:"@divine/web-service.WebService",custom_edit_url:null},l=void 0,s={unversionedId:"api/classes/divine_web_service.WebService",id:"api/classes/divine_web_service.WebService",title:"Class: WebService<Context>",description:"@divine/web-service.WebService",source:"@site/docs/api/classes/divine_web_service.WebService.md",sourceDirName:"api/classes",slug:"/api/classes/divine_web_service.WebService",permalink:"/WSF/docs/api/classes/divine_web_service.WebService",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"divine_web_service.WebService",title:"Class: WebService<Context>",sidebar_label:"@divine/web-service.WebService",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"@divine/web-service.WebServer",permalink:"/WSF/docs/api/classes/divine_web_service.WebServer"},next:{title:"@divine/commons.Params",permalink:"/WSF/docs/api/interfaces/divine_commons.Params"}},p={},d=[{value:"Concepts",id:"concepts",level:2},{value:"Context",id:"context",level:3},{value:"Resources",id:"resources",level:3},{value:"Filters",id:"filters",level:3},{value:"Error handler",id:"error-handler",level:3},{value:"Type parameters",id:"type-parameters",level:2},{value:"Constructors",id:"constructors",level:2},{value:"constructor",id:"constructor",level:3},{value:"Type parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Properties",id:"properties",level:2},{value:"context",id:"context-1",level:3},{value:"Defined in",id:"defined-in-1",level:4},{value:"webServiceConfig",id:"webserviceconfig",level:3},{value:"Defined in",id:"defined-in-2",level:4},{value:"Accessors",id:"accessors",level:2},{value:"webServiceMountPoint",id:"webservicemountpoint",level:3},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in-3",level:4},{value:"Methods",id:"methods",level:2},{value:"_mount",id:"_mount",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-4",level:4},{value:"_unmount",id:"_unmount",level:3},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-5",level:4},{value:"addFilter",id:"addfilter",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-6",level:4},{value:"addFilters",id:"addfilters",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"addResource",id:"addresource",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"addResources",id:"addresources",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"dispatchRequest",id:"dispatchrequest",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"requestEventHandler",id:"requesteventhandler",level:3},{value:"Returns",id:"returns-8",level:4},{value:"Parameters",id:"parameters-7",level:5},{value:"Returns",id:"returns-9",level:5},{value:"Defined in",id:"defined-in-11",level:4},{value:"setErrorHandler",id:"seterrorhandler",level:3},{value:"Parameters",id:"parameters-8",level:4},{value:"Returns",id:"returns-10",level:4},{value:"Defined in",id:"defined-in-12",level:4},{value:"makeAllowHeader",id:"makeallowheader",level:3},{value:"Parameters",id:"parameters-9",level:4},{value:"Returns",id:"returns-11",level:4},{value:"Defined in",id:"defined-in-13",level:4}],o={toc:d},c="wrapper";function m(e){let{components:t,...r}=e;return(0,n.kt)(c,(0,a.Z)({},o,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_web_service"},"@divine/web-service"),".WebService"),(0,n.kt)("p",null,"A WebService is a collection of registered ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResource"},"resources"),", ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilter"},"filters")," and an\noptional ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/modules/divine_web_service#weberrorhandler"},"error handler")," that forms the web application."),(0,n.kt)("h2",{id:"concepts"},"Concepts"),(0,n.kt)("h3",{id:"context"},"Context"),(0,n.kt)("p",null,"When a WebService is created, it can be associated with a custom object called the WebService ",(0,n.kt)("em",{parentName:"p"},"context"),". This context\nis passed to the resources and filters as they are constructed and can provide configuration and/or services to the\nweb application."),(0,n.kt)("h3",{id:"resources"},"Resources"),(0,n.kt)("p",null,"A ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResource"},"WebResource")," is responsible for handling a specific location. It responds to one or more HTTP verbs and\nproduces a ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebResponse"},"WebResponse")," once finished. A new instance of the resource class is constructed for each incoming\nrequest, ensuring that no state is leaked between requests."),(0,n.kt)("p",null,"Only a single resource will ever match an incoming request."),(0,n.kt)("h3",{id:"filters"},"Filters"),(0,n.kt)("p",null,"Filters are used to modify the behavior of a set of resources. They can be used to handle CORS requests,\nauthentication and authorization, throttling etc. Just like resources, a new instance of the filter will always be\nconstructed for each incoming request."),(0,n.kt)("p",null,"Multiple filters may match an incoming request. They will be processed in the same order as they were added via\n",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService#addfilter"},"addFilter")," or ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService#addfilters"},"addFilters"),"."),(0,n.kt)("h3",{id:"error-handler"},"Error handler"),(0,n.kt)("p",null,"The error handler acts like a global ",(0,n.kt)("inlineCode",{parentName:"p"},"catch")," block and can be used to produce non-generic error responses in case\nsomething is not right."),(0,n.kt)("h2",{id:"type-parameters"},"Type parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"Context")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The type of the ",(0,n.kt)("inlineCode",{parentName:"td"},"context")," property.")))),(0,n.kt)("h2",{id:"constructors"},"Constructors"),(0,n.kt)("h3",{id:"constructor"},"constructor"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("strong",{parentName:"p"},"new WebService"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">","(",(0,n.kt)("inlineCode",{parentName:"p"},"context"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"config?"),")"),(0,n.kt)("h4",{id:"type-parameters-1"},"Type parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"Context"))))),(0,n.kt)("h4",{id:"parameters"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"context")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"Context")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The web service's ",(0,n.kt)("em",{parentName:"td"},"context"),", which will provided to filter and resource constructors.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"config?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_web_service.WebServiceConfig"},(0,n.kt)("inlineCode",{parentName:"a"},"WebServiceConfig"))),(0,n.kt)("td",{parentName:"tr",align:"left"},"The web service configuration.")))),(0,n.kt)("h4",{id:"defined-in"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L174"},"web-service/src/service.ts:174")),(0,n.kt)("h2",{id:"properties"},"Properties"),(0,n.kt)("h3",{id:"context-1"},"context"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("strong",{parentName:"p"},"context"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"Context")),(0,n.kt)("p",null,"The web service's ",(0,n.kt)("em",{parentName:"p"},"context"),", which will provided to filter and resource constructors."),(0,n.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L174"},"web-service/src/service.ts:174")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"webserviceconfig"},"webServiceConfig"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"webServiceConfig"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"Required"),"<",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebServiceConfig"},(0,n.kt)("inlineCode",{parentName:"a"},"WebServiceConfig")),">"),(0,n.kt)("p",null,"The actual ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebServiceConfig"},"WebServiceConfig")," used by this service."),(0,n.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L161"},"web-service/src/service.ts:161")),(0,n.kt)("h2",{id:"accessors"},"Accessors"),(0,n.kt)("h3",{id:"webservicemountpoint"},"webServiceMountPoint"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"get")," ",(0,n.kt)("strong",{parentName:"p"},"webServiceMountPoint"),"(): ",(0,n.kt)("inlineCode",{parentName:"p"},"string")),(0,n.kt)("p",null,"The mount point where this service is mounted. Usually just '/'."),(0,n.kt)("h4",{id:"returns"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"string")),(0,n.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L191"},"web-service/src/service.ts:191")),(0,n.kt)("h2",{id:"methods"},"Methods"),(0,n.kt)("h3",{id:"_mount"},"_","mount"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Protected")," ",(0,n.kt)("strong",{parentName:"p"},"_mount"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"mountPoint"),"): ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"Called by ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebServer#mount"},"mount")," when this WebService is mounted (attached to a WebServer)."),(0,n.kt)("h4",{id:"parameters-1"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"mountPoint")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"string")),(0,n.kt)("td",{parentName:"tr",align:"left"},"The prefix path where this WebService should be mounted.")))),(0,n.kt)("h4",{id:"returns-1"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"This WebService."),(0,n.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L201"},"web-service/src/service.ts:201")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"_unmount"},"_","unmount"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Protected")," ",(0,n.kt)("strong",{parentName:"p"},"_unmount"),"(): ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"Called by Called by ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebServer#unmount"},"unmount")," when this WebService is unmounted."),(0,n.kt)("h4",{id:"returns-2"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"This WebService."),(0,n.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L217"},"web-service/src/service.ts:217")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"addfilter"},"addFilter"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"addFilter"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"filter"),"): ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"Registers a single ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilter"},"filter"),"."),(0,n.kt)("p",null,"The filter's ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilterCtor#path"},"path")," property defines what locations the filter is applicable to."),(0,n.kt)("h4",{id:"parameters-2"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"filter")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilterCtor"},(0,n.kt)("inlineCode",{parentName:"a"},"WebFilterCtor")),"<",(0,n.kt)("inlineCode",{parentName:"td"},"Context"),">"),(0,n.kt)("td",{parentName:"tr",align:"left"},"A filter class to register.")))),(0,n.kt)("h4",{id:"returns-3"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"This WebService."),(0,n.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L247"},"web-service/src/service.ts:247")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"addfilters"},"addFilters"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"addFilters"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"filters"),"): ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"Registers multiple ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilter"},"filters"),"."),(0,n.kt)("p",null,"The filters' ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilterCtor#path"},"path")," properties defines what locations each filter is applicable to."),(0,n.kt)("h4",{id:"parameters-3"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"filters")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"Iterable"),"<",(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilterCtor"},(0,n.kt)("inlineCode",{parentName:"a"},"WebFilterCtor")),"<",(0,n.kt)("inlineCode",{parentName:"td"},"Context"),">",">"),(0,n.kt)("td",{parentName:"tr",align:"left"},"A sequence of filter classes to register.")))),(0,n.kt)("h4",{id:"returns-4"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"This WebService."),(0,n.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L264"},"web-service/src/service.ts:264")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"addresource"},"addResource"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"addResource"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"resource"),"): ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"Registers a single ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResource"},"resource"),"."),(0,n.kt)("p",null,"The resource's ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResourceCtor#path"},"path")," property defines what locations the resource is applicable to."),(0,n.kt)("h4",{id:"parameters-4"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"resource")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_web_service.WebResourceCtor"},(0,n.kt)("inlineCode",{parentName:"a"},"WebResourceCtor")),"<",(0,n.kt)("inlineCode",{parentName:"td"},"Context"),">"),(0,n.kt)("td",{parentName:"tr",align:"left"},"A resouece class to register.")))),(0,n.kt)("h4",{id:"returns-5"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"This WebService."),(0,n.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L280"},"web-service/src/service.ts:280")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"addresources"},"addResources"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"addResources"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"resources"),"): ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"Registers multiple ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResource"},"resources"),"."),(0,n.kt)("p",null,"The resources' ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResourceCtor#path"},"path")," properties defines what locations each resource is applicable\nto."),(0,n.kt)("h4",{id:"parameters-5"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"resources")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"Iterable"),"<",(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_web_service.WebResourceCtor"},(0,n.kt)("inlineCode",{parentName:"a"},"WebResourceCtor")),"<",(0,n.kt)("inlineCode",{parentName:"td"},"Context"),">",">")))),(0,n.kt)("h4",{id:"returns-6"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"This WebService."),(0,n.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L304"},"web-service/src/service.ts:304")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"dispatchrequest"},"dispatchRequest"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"dispatchRequest"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"webreq"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebResponse"},(0,n.kt)("inlineCode",{parentName:"a"},"WebResponse")),">"),(0,n.kt)("p",null,"Dispatches a request to the intended ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResource"},"resource")," and also applies all matching ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebFilter"},"filters"),"."),(0,n.kt)("p",null,"Errors will also be handled, so this method does not normally throw."),(0,n.kt)("h4",{id:"parameters-6"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"webreq")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/classes/divine_web_service.WebRequest"},(0,n.kt)("inlineCode",{parentName:"a"},"WebRequest"))),(0,n.kt)("td",{parentName:"tr",align:"left"},"The HTTP request to handle.")))),(0,n.kt)("h4",{id:"returns-7"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebResponse"},(0,n.kt)("inlineCode",{parentName:"a"},"WebResponse")),">"),(0,n.kt)("p",null,"An HTTP response to be sent to the client."),(0,n.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L379"},"web-service/src/service.ts:379")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"requesteventhandler"},"requestEventHandler"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"requestEventHandler"),"(): (",(0,n.kt)("inlineCode",{parentName:"p"},"req"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"IncomingMessage"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"res"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"ServerResponse"),") => ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,n.kt)("p",null,"Returns a Node.jss HTTP request handler as specified by\n",(0,n.kt)("a",{parentName:"p",href:"https://nodejs.org/api/http.html#httpcreateserveroptions-requestlistener"},"createServer"),"."),(0,n.kt)("p",null,"The request handler will construct a ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebRequest"},"WebRequest")," and then invoke ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService#dispatchrequest"},"dispatchRequest"),". The response\nwill then be serialized and sent to the client."),(0,n.kt)("h4",{id:"returns-8"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"fn")),(0,n.kt)("p",null,"A Node.js HTTP request handler for this WebService."),(0,n.kt)("p",null,"\u25b8 (",(0,n.kt)("inlineCode",{parentName:"p"},"req"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"res"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,n.kt)("p",null,"Returns a Node.jss HTTP request handler as specified by\n",(0,n.kt)("a",{parentName:"p",href:"https://nodejs.org/api/http.html#httpcreateserveroptions-requestlistener"},"createServer"),"."),(0,n.kt)("p",null,"The request handler will construct a ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebRequest"},"WebRequest")," and then invoke ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService#dispatchrequest"},"dispatchRequest"),". The response\nwill then be serialized and sent to the client."),(0,n.kt)("h5",{id:"parameters-7"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"req")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"IncomingMessage"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"res")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"ServerResponse"))))),(0,n.kt)("h5",{id:"returns-9"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,n.kt)("p",null,"A Node.js HTTP request handler for this WebService."),(0,n.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L321"},"web-service/src/service.ts:321")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"seterrorhandler"},"setErrorHandler"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"setErrorHandler"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"errorHandler"),"): ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"Installs a service-wide error handler."),(0,n.kt)("p",null,"Whenever a resource of filter throws an exception, the error handler is invoked to handle the error. The error\nhandler can either return a ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebResponse"},"WebResponse")," or (re-)throw."),(0,n.kt)("h4",{id:"parameters-8"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"errorHandler")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"undefined")," ","|"," ",(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/modules/divine_web_service#weberrorhandler"},(0,n.kt)("inlineCode",{parentName:"a"},"WebErrorHandler")),"<",(0,n.kt)("inlineCode",{parentName:"td"},"Context"),">"),(0,n.kt)("td",{parentName:"tr",align:"left"},"The error handler to install, or ",(0,n.kt)("inlineCode",{parentName:"td"},"undefined")," to restore the default behaviour.")))),(0,n.kt)("h4",{id:"returns-10"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/classes/divine_web_service.WebService"},(0,n.kt)("inlineCode",{parentName:"a"},"WebService")),"<",(0,n.kt)("inlineCode",{parentName:"p"},"Context"),">"),(0,n.kt)("p",null,"THis WebService."),(0,n.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L233"},"web-service/src/service.ts:233")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"makeallowheader"},"makeAllowHeader"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Static")," ",(0,n.kt)("strong",{parentName:"p"},"makeAllowHeader"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"rsrc?"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"string")),(0,n.kt)("p",null,"Utilitiy method to calculate an ",(0,n.kt)("inlineCode",{parentName:"p"},"Allow")," header based on an ",(0,n.kt)("a",{parentName:"p",href:"/WSF/docs/api/interfaces/divine_web_service.WebResource"},"WebResource"),"."),(0,n.kt)("p",null,"This method checks what methods are implemented on the provided object and generates a comma-separated list of\nallowed HTTP methods."),(0,n.kt)("h4",{id:"parameters-9"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"rsrc?")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/WSF/docs/api/interfaces/divine_web_service.WebResource"},(0,n.kt)("inlineCode",{parentName:"a"},"WebResource"))),(0,n.kt)("td",{parentName:"tr",align:"left"},"The resource to produce an ",(0,n.kt)("inlineCode",{parentName:"td"},"Allow")," header for.")))),(0,n.kt)("h4",{id:"returns-11"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"string")),(0,n.kt)("p",null,"A comma-separated list of allowed HTTP methods."),(0,n.kt)("h4",{id:"defined-in-13"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Divine-Software/WSF/blob/c3447be/web-service/src/service.ts#L140"},"web-service/src/service.ts:140")))}m.isMDXComponent=!0}}]);