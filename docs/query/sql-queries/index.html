<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-query/sql-queries">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">SQL Queries | The Divine Web Service Framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://divine-software.github.io/WSF/docs/query/sql-queries/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SQL Queries | The Divine Web Service Framework"><meta data-rh="true" name="description" content="Executing an SQL query is really simple"><meta data-rh="true" property="og:description" content="Executing an SQL query is really simple"><link data-rh="true" rel="icon" href="/WSF/img/favicon.png"><link data-rh="true" rel="canonical" href="https://divine-software.github.io/WSF/docs/query/sql-queries/"><link data-rh="true" rel="alternate" href="https://divine-software.github.io/WSF/docs/query/sql-queries/" hreflang="en"><link data-rh="true" rel="alternate" href="https://divine-software.github.io/WSF/docs/query/sql-queries/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XMAD25WICF-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/WSF/blog/rss.xml" title="The Divine Web Service Framework RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/WSF/blog/atom.xml" title="The Divine Web Service Framework Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-46S2DN7V61"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-46S2DN7V61",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="The Divine Web Service Framework" href="/WSF/opensearch.xml"><link rel="stylesheet" href="/WSF/assets/css/styles.04f4e7e0.css">
<link rel="preload" href="/WSF/assets/js/runtime~main.269b6c74.js" as="script">
<link rel="preload" href="/WSF/assets/js/main.c6a5e77f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_TaBx" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/WSF/"><div class="navbar__logo"><img src="/WSF/img/logo.png" alt="The Divine Web Service Framework" class="themedImage_pPAy themedImage--light_wZl4"><img src="/WSF/img/logo.png" alt="The Divine Web Service Framework" class="themedImage_pPAy themedImage--dark_nE9Y"></div><b class="navbar__title text--truncate">Divine WSF</b></a><a class="navbar__item navbar__link" href="/WSF/blog/">News</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/WSF/docs/intro/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Divine-Software/WSF" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="Fork me on GitHub!"></a><div class="toggle_NMEG colorModeToggle_ROBD"><button class="clean-btn toggleButton_HBVB toggleButtonDisabled_bcSa" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_yL6t"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_QLQv"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_woPI"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_XhoY docsWrapper_Q3Oj"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_AU1Z" type="button"></button><div class="docPage_ozWE"><aside class="theme-doc-sidebar-container docSidebarContainer_iAdX"><div class="sidebarViewport_iWyN"><div class="sidebar_S7pK"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_QeZg"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/WSF/docs/intro/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/WSF/docs/connect/">Connect</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connect&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/WSF/docs/parse/">Parse</a><button aria-label="Toggle the collapsible sidebar category &#x27;Parse&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/WSF/docs/query/">Query</a><button aria-label="Toggle the collapsible sidebar category &#x27;Query&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/WSF/docs/query/sql-queries/">SQL Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/WSF/docs/query/transactions/">Transactions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/WSF/docs/serve/">Serve</a><button aria-label="Toggle the collapsible sidebar category &#x27;Serve&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/WSF/docs/api/">Framework APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Framework APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_KPdG"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_by_2"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_a0tR"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_fS_q"><div class="docItemContainer_D3N9"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_mjff" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/WSF/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_hdaR"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/WSF/docs/query/"><span itemprop="name">Query</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SQL Queries</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_gOz3 theme-doc-toc-mobile tocMobile_LU5m"><button type="button" class="clean-btn tocCollapsibleButton_wTc2">On this page</button></div><div class="theme-doc-markdown markdown"><h1>SQL Queries</h1><p>Executing an SQL query is really simple: just use <a href="/WSF/docs/api/classes/divine_uri.DatabaseURI/#query">query</a> as a tagged template string:</p><div class="language-ts codeBlockContainer_Masi theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_OjMk"><pre tabindex="0" class="prism-code language-ts codeBlock_qb8F thin-scrollbar"><code class="codeBlockLines_yaep"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">URI</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@divine/uri&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@divine/uri-tds-protocol&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Activate optional SQL Server driver</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// docker run -e &quot;ACCEPT_EULA=Y&quot; -e &quot;SA_PASSWORD=Pass1234&quot; -p 1433:1433 -d mcr.microsoft.com/mssql/server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name constant" style="color:#36acaa">URI</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;sqlserver://sa:Pass1234@localhost/&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">query</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">select name, create_date from sys.databases where create_date &lt; </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation keyword" style="color:#00009f">new</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation class-name">Date</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_AMl9"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_xf3V" aria-hidden="true"><svg class="copyButtonIcon_Xy8x" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_cvwh" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Under the hood, this seemingly simple query statement launches a connection pool, acquires a connection from that pool,
prepares the query and binds the parameter in an injection-safe way, executes the query, unpacks the response into an
array of row objects, and finally returns the connection to the pool and begins monitoring it, keeping it alive and
ready to handle the next query.</p><p>But you don&#x27;t really need worry about any of that stuff. Just <a href="/WSF/docs/api/classes/divine_uri.DatabaseURI/#query">query</a> and wait for the response. You can call <a href="/WSF/docs/api/classes/divine_uri.DatabaseURI/#close">close</a> to
shut down the pool when you&#x27;re done, but individual connections will close automatically when they have been inactive
for a while so you don&#x27;t really have to do that either.</p><p>Custom configuration is possible via the <a href="/WSF/docs/api/interfaces/divine_uri.DBParamsSelector/">DBParamsSelector</a> <a href="/WSF/docs/api/classes/divine_uri.URI/#addselector">selector</a>.</p><h2 class="anchor anchorWithStickyNavbar_VPcu" id="utility-functions">Utility Functions<a href="#utility-functions" class="hash-link" aria-label="Direct link to Utility Functions" title="Direct link to Utility Functions">​</a></h2><p>The WSF includes utilities in the <a href="/WSF/docs/api/namespaces/divine_uri.q/">q</a> namespace to make it easier to write SQL queries, including functions to quote
identifiers, build <code>INSERT</code> and <code>UPDATE</code> queries and join subqueries into a single query.</p><div class="language-ts codeBlockContainer_Masi theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_OjMk"><pre tabindex="0" class="prism-code language-ts codeBlock_qb8F thin-scrollbar"><code class="codeBlockLines_yaep"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> entities </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">query</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">insert into my_table </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">q</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">values</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">entities</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_AMl9"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_xf3V" aria-hidden="true"><svg class="copyButtonIcon_Xy8x" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_cvwh" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_VPcu" id="crud-operations">CRUD Operations<a href="#crud-operations" class="hash-link" aria-label="Direct link to CRUD Operations" title="Direct link to CRUD Operations">​</a></h2><p>Sometime (often, even?), all you want to do is to access one or more rows in a single table in a straight-forward way.
For such situations, the WSF uses its standard URI methods to <em>Create</em> (<code>INSERT</code>, <code>UPSERT</code>), <em>Read</em> (<code>SELECT</code>), <em>Update</em>
(<code>UPDATE</code>) and <em>Delete</em> (<code>DELETE</code>) table rows without the developer even having to write a query for it.</p><p>This is described more in detail in the <a href="/WSF/docs/connect/databases/">database connection</a> section, and even more so in the <a href="/WSF/docs/api/classes/divine_uri.DatabaseURI/#crud-row-operations-with-db-references">DB references</a> API
documentation.</p><h2 class="anchor anchorWithStickyNavbar_VPcu" id="handling-results">Handling Results<a href="#handling-results" class="hash-link" aria-label="Direct link to Handling Results" title="Direct link to Handling Results">​</a></h2><p>The <a href="/WSF/docs/api/classes/divine_uri.DatabaseURI/#query">query</a> method always returns an array of objects, where the objects are rows in the result set, and the properties
of the objects are the columns of the result set. If two or more columns share the same name, the last one wins.</p><p>The &quot;raw&quot; <a href="/WSF/docs/api/classes/divine_uri.DBResult/">result sets</a> are always available via the <a href="/WSF/docs/api/modules/divine_uri/#fields">FIELDS</a> array, as specified by the <a href="/WSF/docs/api/interfaces/divine_uri.DBMetadata/">DBMetadata</a> and
<a href="/WSF/docs/api/interfaces/divine_uri.WithFields/">WithFields</a> interface, from where you can access the original tabular data and meta-information about the result set,
such as <a href="/WSF/docs/api/classes/divine_uri.DBResult/#columns">column information</a>, the number of <a href="/WSF/docs/api/classes/divine_uri.DBResult/#rowcount">rows affected</a> by the query and the
last <a href="/WSF/docs/api/classes/divine_uri.DBResult/#rowkey">generated primary key</a>, for <code>IDENTITY</code> or <code>AUTOINCREMENT</code> columns.</p><p>Most of the time, the <a href="/WSF/docs/api/modules/divine_uri/#fields">FIELDS</a> array will only contain a single <a href="/WSF/docs/api/classes/divine_uri.DBResult/">DBResult</a>, but one of the variants of <a href="/WSF/docs/api/classes/divine_uri.DatabaseURI/#query">query</a> allows
for multiple queries to be executed in the same session, and in that case, the object returned will be from the <em>last</em>
result set (all which can be accessed via <a href="/WSF/docs/api/modules/divine_uri/#fields">FIELDS</a>).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Divine-Software/WSF/tree/master/website/docs/query/sql-queries.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_TqFg" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_chZD"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/WSF/docs/query/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Database SQL Queries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/WSF/docs/query/transactions/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Transactions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_gBlS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#utility-functions" class="table-of-contents__link toc-highlight">Utility Functions</a></li><li><a href="#crud-operations" class="table-of-contents__link toc-highlight">CRUD Operations</a></li><li><a href="#handling-results" class="table-of-contents__link toc-highlight">Handling Results</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Divine Software™</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://divine-software.github.io/ghostly/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ghostly<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Divine-Software/divine-synchronization" target="_blank" rel="noopener noreferrer" class="footer__link-item">Synchronization Library</a></li><li class="footer__item"><a href="https://github.com/Divine-Software/sysconsole" target="_blank" rel="noopener noreferrer" class="footer__link-item">Syslog Console<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects we ❤️</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.cockroachlabs.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CockroachDB<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://knative.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knative<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.typescriptlang.org//" target="_blank" rel="noopener noreferrer" class="footer__link-item">TypeScript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Get in touch</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Divine-Software/WSF/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask a question<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Divine-Software/WSF/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute code or docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Divine-Software/WSF/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report an issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lOXQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2007-2023 Martin Blom. A Divine Software™ production.</div></div></div></footer></div>
<script src="/WSF/assets/js/runtime~main.269b6c74.js"></script>
<script src="/WSF/assets/js/main.c6a5e77f.js"></script>
</body>
</html>